# k8s/kind/manifests/03-secret.yaml
# Donnees sensibles (credentials)
# IMPORTANT : En production, utiliser Sealed Secrets ou External Secrets Operator

apiVersion: v1
kind: Secret
metadata:
  name: quiz-secrets
  namespace: quiz-app
  labels:
    app: quiz-backend
  annotations:
    description: "Credentials sensibles - Ne pas commiter en clair"
    rotation-policy: "90-days"
type: Opaque
stringData:
  # Mot de passe simple pour dev local uniquement
  DATABASE_URL: "postgresql://quiz_user:quiz@postgres:5432/quiz_db"
  JWT_SECRET: "dev-secret-key-change-in-production"

# NOTE : En production, utiliser :
# 1. Sealed Secrets (chiffre avec cle publique)
# 2. External Secrets Operator (synchronise depuis Vault/AWS Secrets Manager)
# 3. encryption-at-rest dans etcd
